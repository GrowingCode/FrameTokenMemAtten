# Overview
　　This repository contains the model implementation of HLM, SLM, REP and the variants. 
This implementation will read training data or test data generated by `data preprocessor` and start training procedure 
until the prediction accuracy does not exceed the maximum for 5 epoches. 

## Data preprocessing
　　Please refer to repository [JavaCodePreProcess](https://github.com/GrowingCode/JavaCodePreProcess) to 
download the `data preprocessor` and tutorials to translate raw Java files to the tensor format which this project can directly handle. 
The `data preprocessor` will put the translated data into a specific folder under `user-home-directory`. This project will directly 
read and use the translated data from the specific folder under `user-home-directory`. 
Actually, users does not need to know where the data is stored. 

## Run model
　　To run model is simple, at first, find the metas.hyper_settings.py file. In that file, find the line "composite_config_func = ...". 
  * if we want to run baseline LSTM model
    * Please set "composite_config_func = ..." to "composite_config_func = statement_token_decode" or "composite_config_func = sequence_token_decode"
  * if we want to run HLM model
    * Please set "composite_config_func = ..." to "composite_config_func = tree_token_decode"
  * if we want to run SLM model
    * Please set "composite_config_func = ..." to "composite_config_func = statement_token_decode_with_tokens_compose"
  * if we want to run REP model
    * Please set "composite_config_func = ..." to "composite_config_func = sequence_token_decode_with_rep_dup"
  * if we want to run Attention-Pointer model
    * Please set "composite_config_func = ..." to "composite_config_func = sequence_token_decode_with_dup"

　　As REP model only considers variables, when run REP model, plsease
set "token_accuracy_mode = ..." to "token_accuracy_mode = only_consider_var_accuracy". 

　　For non-variable tokens such as grammar tokens, we can run HLM model first. For variable tokens, we can run REP model next. The final accuracy is computed by average the two kinds of accuracy. 
Note that, we offer token count in the final printing. So computing this kind of accuracy is simple. 








